{% extends "base.html" %}

{% block content %}
    <h1>ğŸ“– ì´ê³³ì€ ì•„í‹°í´ í˜ì´ì§€ì…ë‹ˆë‹¤. </h1>
    
    {% if request.user.is_authenticated %}
        <br>
        <a href="{% url 'articles:create' %}"> {#ì•µì»¤ íƒœê·¸ëŠ” GET ë°©ì‹ì„!!#}
            <button type="button" class="btn btn-secondary" style="background-color: LemonChiffon; border-color: LemonChiffon; color: gray">
                ìƒˆë¡œìš´ ì•„í‹°í´ ì‘ì„±í•˜ëŸ¬ ê°€ê¸°
            </button>
        <br><br> 
    {% else %}
        <a href="{% url 'accounts:login' %}">ë¡œê·¸ì¸í•˜ê³  ê¸€ ì‘ì„±í•˜ëŸ¬ ê°€ê¸°</a><br><br>
    {% endif %}
    
    <hr>

    {% for article in articles %} {#ì—¬ê¸°ì„œ articlesëŠ” ë·° í•¨ìˆ˜ì—ì„œ contextë¡œ ë°›ì€ ê²ƒ#}

        <a href="{% url 'articles:article_detail' article.pk %}"> {#ê¸€ì œëª© í´ë¦­í•˜ë©´ ì´ë™í•  ìˆ˜ ìˆê²Œ ì•µì»¤íƒœê·¸ ì•ˆì— ë„£ì–´ì£¼ê³  urlì— í•´ë‹¹ pkê°’ ê²½ë¡œ ë³€ìˆ˜ë¡œ í• ë‹¹í•˜ê¸°#}
            <button type="button" class="btn btn-secondary" style="background-color: MintCream; border-color: MintCream; color: gray">
                ğŸ“„ {{article.title}} - {{article.author.username}}
            </button>
        </a> 
        <p>ì¢‹ì•„ìš” {{ article.like_count }}ê°œ </p>

        <form action="{% url 'articles:like' article.pk %}" method="POST">
            {% csrf_token %}
            {% if request.user in article.like_users.all %}
            <button type="submit" class="btn btn-outline-white">ğŸ–¤</button>
            {% else %}
            <button type="submit" class="btn btn-outline-white">â¤ï¸</button>
            {% endif %}
        </form>

        <hr>
    {% endfor %}

    <a href="{% url 'articles:index' %}">
        <button type="button" class="btn btn-secondary" style="background-color: Lightblue; border-color: Lightblue; color: white;">
        í™ˆ(index)ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
    </a>
{%endblock content%}